
一、檔案位置﹕

所有在 <區域>/mob/ 目錄底下的 *.mob 檔案都是怪物檔案﹐而所有
的怪物就是由這些檔案所組成。

二、語法:

*              /* 任何由 * 開頭的這一行為註解﹐系統不會讀入 */
Vnum           <數值>
Name           <字串>~
ShortDesc      <字串>~
Description
<字串>
~
Deadmsg
<字串>
~
<怪物屬性旗標> Yes
Effect         '<字串>'
Alignment      <數值>
Level          <數值>
Hitroll        <數值>
Protect        <數值>
Damroll        <數值>
Str            <數值>
Int            <數值>
Wis            <數值>
Dex            <數值>
Con            <數值>
Hp             <數值>
Mana           <數值>
Move           <數值>
Class          <數值或字串常數>
Gold           <數值>
Multipile      <數值>
Sex            <數值或字串常數>
Reborn         <數值>
Rebornroom     <數值>
Tractable      <數值>
Migrate        <數值>
AttackRatio    <數值>
DodgeRatio     <數值>
Speak          <數值或字串常數>
Enable         <數值> '<字串>'
AutoEnable     '<字串>'
Special        <字串>
Auction
<字串>~

#Learn
*              /* 任何由 * 開頭的這一行為註解﹐系統不會讀入 */
Adept          <數值>
Cost           <數值>
Inventory      <數值>
Name           <字串>
End

#Job
*              /* 任何由 * 開頭的這一行為註解﹐系統不會讀入 */
Keyword        <字串>~
Function       <字串>~
Position       <數值或字串常數>
End

Program
Process
Type           <字串>
Chance         <數值>
Argument       <字串>~
Gold           <數值>
Text
<指令>
~
End

End            /* 說明怪物檔案的結束 */

三、範例:

Vnum           501
Name           guard~
ShortDesc      城市守衛~
Description
他們是特別在此保護城市的安全﹐正全力專注的看著來往的行人。
~
DeadMsg
不要啊﹗不要啊﹗我不想死啊﹗
~
StayArea      Yes
Effect        'detect invis'
Effect        'detect hidden'
Effect        'sanctuary'
Alignment     100
Level         30
Hitroll       0
Protect       -1
Damroll       0
Str           10
Int           10
Wis           10
Dex           10
Con           -1
Hp            10000
Mana          100
Move          100
Class         CLASS_THIEF
Gold          100
Multipile     100
AttackRatio   100
DodgeRatio    100
Speak         YES
Sex           SEX_MALE
Enable        100 'long fist'
Special       spec_new_doctor

#Learn
Adept         30
Inventory     30
Cost          10000
Name          'linpo steps'
End

Program
Process
Type          fight_prog
Chance        30
Text
if rand(30)
  say 不要殺我啊﹗
endif
~
End

Process
Type          speech_prog
Argument      play~
Text
if ispc($n)
  growl $n
  tell $n 不寫區域還混﹗看我送你去蘇州賣鴨蛋﹗
  mpkill $n
endif
~
End

End

四、說明:

(1) Vnum (怪物號碼)﹕
  代表這個怪物的虛擬號碼﹐這個選項不能被省略的﹐而且怪物號碼
  一定要是數字﹐且不可以小於 0﹐至於號碼的分配最好和區域裡的
  房間號碼來對照﹐因為這樣比較方便清楚看出是哪一個區域的物品。

  PS﹕怪物與怪物之間的號碼不可以相同﹐與區域或是物品所用的號
      碼則可以重複。

(2) Name (怪物英文名字)﹕
  代表怪物的英文名字﹐他是代表怪物的最短名字﹐也是程式在判斷
  時所比對的名字﹐所有的動作都和這個名字有關﹐請以字串結束符
  號( ~ ) 結束﹐這個選項不可以被忽略﹐這一個字串最好是英文﹐
  因為若不是英文會照成玩家的不便。

(3) ShortDesc (怪物中文名字)﹕
  這是怪物的中文名字﹐也是你對怪物做一些動作所顯示出來的名字
  ﹐只需要寫出中文名字就可以，系統會自動加上英文名字。這個項
  目一樣要以字串結束符號( ~ ) 做結束。

(4) Description (怪物描述)﹕
  這個字串是當你使用 look 這個指令去觀察怪物所看到的﹐基本上
  跟人物的描述是一樣的﹐也是你可以對這一支怪物作一些修飾的描
  寫或是一些特殊的迷題提示的地方﹐這個字串一樣要以字串結束符
  號( ~ ) 做結束。

(5) 怪物屬性旗標﹕

  □IsNPC                   1  為怪物(內定一定存在﹐可以不用填寫)
  □Sentinel                2  會留在房間不動
  □Scavenger               4  會撿起地上物品
  □Aggressive             32  會自動攻擊
  □StayArea               64  不會離開此區域
  □Wimpy                 128  損血至某一程度時會落跑
  □Pet                   256  是寵物( 目前沒有用, 不要設 )
  □Train                 512  可以幫人升級屬性
  □Practice             1024  可以幫人訓練 (目前沒使用)
  □Rebirth              2048  可以幫人轉職
  □RebornFight          4096  會再生成另一怪物
  □Ask                  8192  可以給玩家送信
  □AutosetValue        16384  由系統設定一些數值
  □NoReborn            32768  不會重生
  □NoKill              65536  不能殺害
  □Enroll             131072  記恨
  □AlignGood          262144  善良陣營
  □AlignEvil          524288  邪惡陣營
  □NoSummon          1048576  不可召喚

  代表這個怪物的詳細的屬性設定﹐這個是一個數字﹐這一個選項可
  以重複使用﹐也就是說你可以有兩個以上的旗標來完整表示這個怪
  物品。這個選項可以被省略。

  個別說明如下﹕

  □設定為怪物(IsNPC)﹕
      這個是設定這一隻怪物是怪物﹐（好笨的說法）基本上來說就
      是設定給程式判斷這是一隻沒有生命的怪物﹐跟人所操縱的不
      一樣﹐這個旗標不論你有沒有設定都是存在﹐所以你可以不用
      理會這個旗標﹐程式會自動幫你設定。

  □會留在房間不動(Sentinel)﹕
      這個旗標設定這一隻怪物會停留在同一格不會動﹐基本上一隻
      怪物是會不停的走來走去的﹐如果你要怪物停止不動請加上這
      個旗標﹐另外如果你的怪物是小販﹐且有設定一個房間做為店
      鋪的話﹐也請你將小販設為留在房間不動﹐才不會看到小販在
      那邊跑來跑去﹐增加系統負擔。

  □會撿起地上物品(Scavenger)﹕
      當妳設定這一個旗標的話﹐這一隻怪物便會將地上的物品撿起
      來﹐當然會依怪物本身的負荷去撿物品﹐如果你需要你的區域
      比較乾淨的話﹐便可以設定這個旗標﹐不過怪物撿起來後並不
      會將物品銷毀。

  □會自動攻擊(Aggressive)﹕
      如果這一隻怪物有設定這個旗標的話﹐這一隻怪物會對玩家自
      動攻擊﹐對這個旗標需要小心使用﹐不然會殺死許多無辜的玩
      家﹐因為這個旗標並不會判斷玩家的等級。

  □不會離開此區域(StayArea)﹕
      當一個怪物有設定這個旗標的話﹐雖然這一隻怪物一樣會移動
      ﹐不過他並不會離開自己所屬的區域。

  □損血至某一程度時會落跑(Wimpy)﹕
      如果這一隻怪物有設定這個旗標的話﹐當妳去攻擊這一隻怪物
      ﹐並且這一隻怪物損失了超過一半的生命力的時候﹐這一隻怪
      物便會嘗試去逃跑。

  □設定為寵物(Pet)﹕(這個旗標目前沒有用)

  □可以幫人升級屬性(Train)﹕
      一般來說﹐如果一隻怪物要可以幫人物升級屬性的話﹐他必須
      要有這個旗標﹐另外值的一提的是升級屬性的時候是根據怪物
      的基本能力或是說屬性去決定成功率的﹐所以請不要將有這個
      旗標的怪物設定的太爛﹐會被玩家罵的﹗也請一個城市最少要
      有一些可以提昇屬性的怪物﹐才可以方便玩家。

  □可以幫人練習(Practice)﹕(這個旗標目前沒有用)

  □可以幫人轉職(Rebirth)﹕
      當妳的怪物要可以幫忙玩家轉職的話﹐這個怪物必須要有這個
      旗標﹐另外轉職的話是依據怪物的職業去轉﹐所以請注意怪物
      的職業。

  □會再生成另一怪物(RebornFight)﹕
      這個旗標設定這一隻怪物死掉時候會在讀取出另外一隻怪物出
      來﹐不過你必須在怪物的檔案中另外設定一些資料﹐如 Reborn
      和 Rebornroom 才可以﹐詳情請找本文件之後有關 Reborn 以
      及 Rebornroom 的介紹。

  □可以讓玩家送信(Ask)﹕
      如果要讓玩家可以經由怪物去執行送信給某人的功能﹐這個怪
      物必須要設定有這個旗標才可以﹐不然是沒有辦法的。

  □由系統設定一些數值(AutosetValue)﹕
      如果一個怪物有設定這個旗標的話, 這個怪物的一些數值例如
      屬性﹐命中﹐防護﹐攻擊傷害力﹐以及生命法力還有金錢等等
      都會依照等級來設定﹐便不需要自行給予﹐另外以上的數值如
      果妳想單項由系統設定的話﹐妳只需要把該項數值設定為 -1
      就可以了﹐這一項數值就會由系統依照等級給予。

  □不會重生(NoReborn)﹕
      當一個怪物設定這個旗標的時候﹐這一隻怪物就只會在重新開
      機的時候讀取出來﹐當這隻怪物死掉或是被清除的話在系統重
      置的時候並不會再讀取出來﹐也就是說這一隻怪物在一次重新
      開機只會有一隻。

  □不能殺害(NoKill)﹕
      當一隻怪物有設定這一項數值的話﹐這一隻怪物則不能被殺害
      ﹐包含一些攻擊技能都無法對這個怪物攻擊﹐可以用來保護一
      些對玩家有利的怪物。

  □記恨(Enroll)﹕
      如果這一隻怪物有設定這個旗標的話﹐當妳攻擊這個怪物﹐他
      便會記得你﹐下次當他看到你的時候﹐便主動攻擊你。

  □善良陣營(AlignGood)﹕

  □邪惡陣營(AlignEvil)﹕

  □不可召喚(NoSummon)﹕
      如果這隻怪物有設定這個旗標的話，這隻怪物不能用 summon
      法術召喚。


(6) Deadmsg (怪物死亡訊息)﹕
  這一項是用來設定當這個怪物被殺的時候這個世界的玩家所可以看
  見的一段話﹐亦即死後的哀嚎﹐可以增加遊戲趣味性﹐敘述都是在
  關鍵字後一行才開始算﹐避免讀檔時空白被吃掉﹐請在第一個字元
  寫上 '.'  這個符號﹐有空白才不會被吃掉﹐不過這個符號是不會
  顯示出來的。


(7) Effect (怪物的影響)﹕

  □Effect    'blind'(眼盲)                     1
  □Effect    'invisible'(隱形)                 2
  □Effect    'detect evil'(偵測邪惡)           4
  □Effect    'detect invis'(偵測隱形)          8
  □Effect    'detect magic'(偵測魔法)         16
  □Effect    'detect hidden'(偵測藏匿)        32
  □Effect    'sanctuary'(聖光)                64
  □Effect    'faerie fire'(粉紅光芒)         128
  □Effect    'infrared'(夜視)                256
  □Effect    'curse'(被詛咒)                 512
  □Effect    'poison'(中毒)                 1024
  □Effect    'protect'(保護術)              2048
  □Effect    'sneak'(潛行)                  4096
  □Effect    'hide'(藏匿)                   8192
  □Effect    'sleep'(睡著)                 16384
  □Effect    'charm'(被迷惑)               32768
  □Effect    'flying'(舞空術)              65536
  □Effect    'pass door'(可穿透門)        131072
  □Effect    'fixity'(定身術)             262144
  □Effect    'mask'(易容)                 524288
  □Effect    'detect mask'(偵測易容)     1048576


  這一項數值設定這一隻怪物所受到的影響﹐可以改變怪物的能力或
  是技巧﹐你也可以為了需要加入聖光或是祝福以加強怪物。

(8) Alignment (怪物的陣營)﹕
  這一項數值可以設定怪物的陣營﹐範圍由 1000 到 -1000  之間﹐
  基本上陣營在 +300 以上的時候就是屬於善良的﹐如果他身上有抗
  善良的裝備﹐有可能會被厭棄而掉落﹐請注意﹐同樣地﹐陣營在
   -300 以下則為邪惡﹐而兩數值之間則屬於中立狀態。

(9) Level (怪物等級)﹕
  這一項數值設定怪物的等級﹐怪物的等級跟怪物的強度有很大的相
  關﹐並且和經驗值的獲取也有很大的相關﹐希望在寫區域的時候能
  夠兼顧平均的設定﹐才不會有一個階段會有很難升級的情況另外目
  前最大的等級是 100  級﹐所以你的怪物也請不要超過這個等級。

(10) Hitroll (怪物命中率)﹕
  這一項數值設定怪物的額外命中率﹐這一項數值內定為 0﹐因為命
  中率會影響怪物的殺傷力。命中率﹐以 0 為基準﹐代表 100%﹐如
  果是 -20 則代表下降百分之 20也就是命中率為

           ( 100 + ( -20 ) ) = 80%

  命中率會對攻擊力加成﹐如果某次攻擊數值為 x﹐命中率為 y﹐則
  修正後的攻擊力為 dam

           dam = x * y / 100

(11) Protect (怪物保護度)﹕
  這一項數值設定怪物的保護度﹐當你有給這一個怪物設定 AUTOSET_VALUE
  的旗標時﹐這一項數值便會自動給予﹐而不會依照你所設定的去給
  ﹐請注意﹐如果你想要讓這一項數值自動給予又不想要自己去設定
  的話﹐你可以將這一項數值設為 -1 ﹐如果系統便會自動給予這一
  項數值。全部內定值為 -1﹐也就依其等級來分配﹐等級 90 ﹐armor 就是
  -90 這是他的防禦力﹐以正值表示﹐越大代表防護力越好。

(13) Damroll (怪物傷害力)﹕
  這一項數值設定怪物的傷害力﹐當你有給這一個怪物設定 AUTOSET_VALUE
  的旗標時﹐這一項數值便會自動給予﹐而不會依照你所設定的去給
  ﹐請注意﹐如果你想要讓這一項數值自動給予又不想要自己去設定
  的話﹐你可以將這一項數值設為 -1 ﹐如果系統便會自動給予這一
  項數值﹐目前尚未更改其意義。

(14) Str Int Wis Dex Con (怪物的力量、智力、學識、敏捷、體格)﹕
  這一項數值設定怪物的五個屬性﹐當你有給這一個怪物設定 AUTOSET_VALUE
  的旗標時﹐這一項數值便會自動給予﹐而不會依照你所設定的去給
  ﹐請注意﹐如果你想要讓這一項數值自動給予又不想要自己去設定
  的話﹐你可以將這一項數值設為 -1 ﹐如果系統便會自動給予這一
  項數值﹐在這一項數值方面﹐系統的內定值是等級的一倍﹐希望自
  己給予時不會超過太多或是低太多。

(15) Hp Mana Move (怪物的生命力、法力、體力)﹕
  這一項數值設定怪物的基本數值﹐當你有給這一個怪物設定 AUTOSET_VALUE
  的旗標時﹐這一項數值便會自動給予﹐而不會依照你所設定的去給
  ﹐請注意﹐如果你想要讓這一項數值自動給予又不想要自己去設定
  的話﹐你可以將這一項數值設為 -1 ﹐如果系統便會自動給予這一
  項數值﹐在這一項數值方面﹐系統的內定值是等級的五十倍﹐希望
  自己給予時不會超過太多或是低太多﹐尤其是體力若是不足的話會
  很容易被玩家吸乾就變成非常好打。

(16) Class (怪物職業)﹕

   □CLASS_DEMOS(平民)             0
   □CLASS_SCHOLAR(文官)           1
   □CLASS_FIGHTER(武官)           2
   □CLASS_SHAMAN(道士)            3
   □CLASS_THIEF(小偷)             4
   □CLASS_DOCTOR(郎中)            5
   □CLASS_BARD(伶人)              6
   □CLASS_GENERAL(將軍)           7
   □CLASS_BRAVO(刺客)             8
   □CLASS_MAGE(天師)              9
   □CLASS_SMITH(鑄劍師)          10

  這一項數值可以設定怪物的職業﹐這一項在使用一些技能或是讓玩
  家轉職時特別重要﹐必須要設定對﹐不然會無法使用技能或是讓玩
  家轉錯職業﹐可以設定的職業如上所示﹐雖然目前不會怪物職業進
  行技能方面的限制﹐不過建議還是要讓怪物職業限制方面正確才好。

(17) Gold (怪物的金錢)﹕
  這一個項目設定怪物所擁有的金錢﹐亦即殺死怪物可以得到的金錢
  ﹐這一項也請小心﹐最好給程式自己設定﹐避免會通貨膨脹﹐一樣
  的﹐如果設定旗標 AUTOSET_VALUE  的話﹐這一項數值會依照系統
  設定去給予﹐你設定 -1 的話也有一樣的效果﹐不過商店的老闆內
  定是不會有金錢的﹐設定了也沒用。

(18) Multipile (怪物的經驗加成)﹕
  這個是寫出怪物的經驗值加成﹐現在怪物的經驗值計算是依照表格
  讀入﹐相差六級以上就沒有經驗值﹐所以在等級上的考慮相當重要
  ﹐經驗值一般來說都是經由程式以等級計算的﹐另外如果你覺得怪
  物比較牆或是比較弱的話﹐你可以在這裡依數值去增減﹐如你要經
  驗值加倍的話﹐只要設定這個數值為兩百就可以了﹐亦即這個數值
  是以百分比作計算﹐先前所使用的 Exp  關鍵字已經不在使用了﹐
  請注意。

(19) Sex (怪物性別)﹕

  □SEX_NEUTRAL(中性)                   0
  □SEX_MALE(男的)                      1
  □SEX_FEMALE(女的)                    2

  這一項數值設定怪物的性別﹐目前來說﹐怪物的性別並不會影響到
  任何事情﹐不過請大家如果敘述是女的就設定為女的﹐比較真實﹐
  可以設定的項目如上所示。

(20) Reborn (怪物再生號碼)﹕
  這一項數值設定如果怪物會再生成另外一支怪物的話那一隻怪物的
  序號﹐當然前提是你必須在這一隻怪物的旗標中設定 ACT_REBORN_FIGHT
  這個旗標﹐另外你所給予的這一個數值的怪物必須存在﹐這樣子當
  你的怪物死掉的時候﹐系統便會去讀取出另一隻怪物來跟玩家對打
  ﹐有一點像是打大魔王會一直變身的那種情況。

(21) Rebornroom (怪物再生位置)﹕
  這一個數值設定如果怪物再生的話﹐再生的那一隻怪物的位置﹐通
  常如果你沒有設定這一項的話﹐再生的怪物便會在同一格讀取出來
  ﹐如果你加入了這一項﹐便會依照你的設定將怪物送到你所設定的
  房間去﹐不過前提是那個房間要存在。

(22) Tractable (馴服度)﹕
  這一個數值設定這一隻怪物是否可以被騎﹐一般來說﹐普通的怪物
  是沒有辦法被騎的﹐如果你寫了一個坐騎﹐你必須要把這個數值設
  定了才有效﹐數值由 0 到 100 ﹐越大的話代表了這一隻怪物越馴
  服﹐越容易被騎上去﹐當然騎術技能要夠才可以騎的上去﹐如果這
  個數值小於或等於零的話則表示這一隻怪物沒辦法被騎。

(23) Enable (怪物致能)﹕
  這一項是設定怪物預設的技能是什麼﹐基本上一隻怪物如果你沒有
  給予技能的話是只會用空手打的﹐如此一來﹐這一隻怪物會變的很
  弱﹐就算你等級設定得很高﹐也是會被玩家打好玩﹐所以你必須給
  予怪物預設的技能﹐讓他能夠有還手的能力﹐不過前提是這個技能
  必須已經開放（或是說攻擊傷害已經調整完畢了）﹐這樣子你才可
  以使用這個技能﹐在 Enable 後面的那一個數值是設定這個怪物的
  這一項技能的熟練度﹐這個數值跟威力有很大的關係﹐這一點請參
  照本文件後的強度設定﹐還有你所設定的技能必須是可以致能的﹐
  像是一些法術都是沒有辦法致能的你是不能設定為 Enable 的﹐另
  外如果你不知道要設定多少熟練度的話請參照 AutoEnable 設定比
  較好。

(24) Special (怪物特殊函數)﹕
  這一項定義怪物是否具有特殊的函數去行動﹐這個特殊的函數是寫
  在程式中的 special.c  ﹐你必須要在程式中有撰寫方能引用﹐這
  項東西主要的作用在補足怪物程式的不足﹐不過撰寫起來比較麻煩
  ﹐另外提一個很有用的特殊函數﹐就是類似洛陽的新手醫生一樣會
  自動對同一格的玩家進行回復或是師一些法術的特殊函數﹐只要依
  照底下來設定就可以了﹐你的怪物便會像洛陽新手醫生一樣動作了
  ﹐也希望能夠在每一個城池掛一個這樣的怪物﹐以方便玩家。

Speaial         spec_new_doctor

(25) Migrate (怪物遷移)﹕
  這個數值是設定怪物的遷移率﹐亦即怪物會不定時飛來飛去﹐不一
  定出現在什麼地方﹐可以用來撰寫一些雲遊四方的仙人等等﹐數值
  以百分比為單位﹐不能超過一百﹐預設值為零﹐就是都不會遷移。

(26) AttackRatio (攻擊威力)﹕
  這一項數值可以讓怪物的攻擊裡加強或是減弱﹐以一百為準﹐你可
  以讓你的怪物有比較高的攻擊威力﹐加強是加強在當怪物使用技能
  時。

(27) DodgeRatio (防禦威力)﹕
  和上一項相同﹐這一相會加強怪物步法的防禦能力﹐以一百為準﹐
  用百分比去算。

(28) AutoEnable (怪物自動致能)﹕
  當你不知道要給怪物的技能設定多少熟練度的時候﹐你可以使用這
  一項設定﹐讓怪物自己設定技能的熟練度﹐當然如果你技能給錯的
  話﹐是一樣沒有辦法設定的﹐至於要給予什麼技能請參照精華區中
  技能強度的方面﹐選擇一個技能後便可以自動由系統幫你設定技能
  熟練度﹐當然若是給予的技能不適合怪物的話﹐系統也會給予一段
  警告提醒更換技能。

(29) Auction (怪物自動拍賣)﹕
  如果怪物有在 ~/mud/etc/sale.txt 中設定為會自動拍賣的怪物的
  話﹐便可以利用這個選項幫怪物設定想要在拍賣之前所說的話﹐增
  加一些趣味性﹐當然這個字串一樣要以字串結束符號( ~ ) 做結束。

(30) #Learn (怪物教學)﹕
  這個用來寫怪物教學技能用﹐可以教學的技能﹐請見版上所公告。

  1. Adept (熟練度)﹕
      這個數值設定教學技能老師的熟練度﹐這個熟練度跟老師教學
      是否成功有關﹐所以請設定一個正常的數值﹐以一到一百為範
      圍﹐如果數字越高可能教學成功的機率越低﹐請注意。

  2. Cost (教學價格)﹕
      這個設定教學的花費﹐不過需要注意的是失敗也要花費同樣的
      金錢﹐金錢數不要設定的太低﹐畢竟技能本來就學來不易﹐所
      以請設定的以千元起跳。

  3. Inventory (教學隱藏度)﹕
      這一項數值設定這個老師對這一樣技能的隱藏度﹐數值由一到
      一百﹐若是越高表示這個老師平常對這個技能越會隱藏﹐就是
      說當你對這老師查詢技能會比較容易隱藏﹐不容易查到。

  4. Name (教學技能名稱)﹕
      這個設定技能的名稱﹐技能的名稱請察看其他的文件如精華區
      的技能或法術方面﹐也請注意不要把一些不開放的技能設定在
      教學裡面。

  5. 以上各項當你有 #Learn 時候就必須都存在﹐本項以 End 做結
     尾﹐作為 #Learn 的結束。

(31) #Job (特殊觸發方面)﹕
  1. Keyword (觸發關鍵字)﹕
      這個怪物做特殊的動作時所觸發程式的關鍵命令﹐如果命令對
      了﹐方會去執行功能部份﹐這個部份要以字串結束符號( ~ )
      結尾。

  2. Function (觸發函數名稱)﹕
      這個是真正使用到的功能名稱﹐這個功能必須在程式中( job.c )
      有定義過方能使用﹐類似怪物的特殊函式的功能﹐一樣以字串
      結束符號( ~ ) 結束。

  3. Position (最低狀態)﹕

      POS_DEAD                0 (死亡)
      POS_SLEEPING            1 (睡覺)
      POS_RESTING             2 (休息)
      POS_FIGHTING            3 (打架)
      POS_STANDING            4 (站立)

      定義使用這個特殊函式時所需的最低狀態﹐一般為 POS_STANDING
      ( 站立 )﹐其餘如上所示。

  4. 以上 Keyword 跟 Function 如果有 #Job 都必須存在。

  5. 以 End 代表結束.

(32) Process (怪物程式)﹕
      為了與舊的怪物程式區別, 改用新的識別字 Process，且每一個
      程式會有一個識別字與 End 將每一個程式分開。原本的形態共
      11 種(請參閱怪物寫作說明)，其中 speech_prog give_prog
      act_prog 使用 Argument(參數)，而 bribe_prog 使用Gold
      (金額)，剩下皆是使用 Chance (機率)。而 Text 是本文, 就是
      程式的觸發動作, 跟以前一樣的寫法。要注意的是 Argument 與
      Text 都需要使用 ~ 這個符號來作為結尾，其他數字形態則不需
      要。

      茲將各項目敘述如下﹕

  □程式形態(Type)﹕
      這裡定義怪物程式觸發的情況，有下列幾種情況﹕

        error_prog        -1    /* 回報錯誤程式 -- 不要用 */
        in_file_prog       0    /* 檔案程式     -- 不要用 */
        act_prog           1    /* 動作程式 */
        speech_prog        2    /* 說話程式 */
        rand_prog          4    /* 亂數程式 */
        fight_prog         8    /* 戰鬥程式 */
        death_prog        16    /* 死亡程式 */
        hitprcnt_prog     32    /* 少血程式 */
        entry_prog        64    /* 進入程式     -- 不要用 */
        greet_prog       128    /* 進入程式 */
        all_greet_prog   256    /* 同上         -- 不要用 */
        give_peog        512    /* 給予程式 */
        bribe_prog      1024    /* 賄賂程式 */

  □程式本文(Text)﹕
        怪物觸發動作有許多的好處, 可以讓區域更豐富, 甚至用來解謎.
        再次列出一些可以用的輔助指令:

        mpasound                 mpjunk
        mppurge                  mpechoat                 mpechoaround
        mpkill                   mpmload                  mpoload
        mppurge                  mpgoto                   mpat
        mptransfer               mpforce

        以上為怪物所可以用的指令, 個別說明如下:

        mppurge                 清除身上物品
        mpkill                  殺害（怪物或玩家）
        mpmload                 讀取怪物出來
        mpoload                 讀取物品出來
        mpgoto                  前往
        mptransfer              召喚
        mpforce                 命令

        還有一些可以用的運算, 可以用在 check , 如

        if ispc( $n )
          <做某某事>
        endif

        其中可以用的運算元如下:

        rand ispc isnpc isgood isfight isimmort ischarmed isfollow
        isaffected hitprcnt inroom sex position level class name
        goldsmt objtype objval0 objval1 objval2 objval3 number

        通常 $n 表示玩家（對象）, 而 $i 則表示此怪物.


五、附註﹕

(1) 字串常數:

* MOB 的 Act 旗標

ACT_IS_NPC                   1
ACT_SENTINEL                 2
ACT_SCAVENGER                4
ACT_AGGRESSIVE              32
ACT_STAY_AREA               64
ACT_WIMPY                  128
ACT_PET                    256
ACT_TRAIN                  512
ACT_PRACTICE              1024
ACT_REBIRTH               2048
ACT_REBORN_FIGHT          4096
ACT_ASK                   8192
AUTOSET_VALUE            16384
ACT_NOREBORN             32768
ACT_NOKILL               65536
ACT_ENROLL              131072

* MOB 影響旗標

AFF_NONE                      0
AFF_BLIND                     1
AFF_INVISIBLE                 2
AFF_DETECT_EVIL               4
AFF_DETECT_INVIS              8
AFF_DETECT_MAGIC             16
AFF_DETECT_HIDDEN            32
AFF_SANCTUARY                64
AFF_FAERIE_FIRE             128
AFF_INFRARED                256
AFF_CURSE                   512
AFF_POISON                 1024
AFF_PROTECT                2048
AFF_SNEAK                  4096
AFF_HIDE                   8192
AFF_SLEEP                 16384
AFF_CHARM                 32768
AFF_FLYING                65536
AFF_PASS_DOOR            131072

* MOB 的性別

SEX_NEUTRAL                   0
SEX_MALE                      1
SEX_FEMALE                    2

* 職業

CLASS_DEMOS                   0
CLASS_SCHOLAR                 1
CLASS_FIGHTER                 2
CLASS_SHAMAN                  3
CLASS_THIEF                   4
CLASS_DOCTOR                  5
CLASS_BARD                    6
CLASS_GENERAL                 7
CLASS_BRAVO                   8
CLASS_MAGE                    9
CLASS_SMITH                  10

* 人物狀態

POS_DEAD                      0
POS_SLEEPING                  1
POS_RESTING                   2
POS_FIGHTING                  3
POS_STANDING                  4

(2) 檔案名稱及位置﹕
  怪物檔一律放在區域的 mob 子目錄下﹐檔名為 *.mob ﹐至於檔案
  的名稱請根據物品號碼設定﹐方便尋找及除錯。


